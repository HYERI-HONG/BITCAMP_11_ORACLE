ALTER TABLE MEMBER ADD CONSTRAINT MEMBER_FK_TEAM_ID
	FOREIGN KEY(TEAM_ID) REFERENCES PROJECT_TEAM(TEAM_ID);

ALTER TABLE MEMBER   
DROP CONSTRAINT TEAMZ_FK_TEAM_ID;

CREATE TABLE TEAMZ(
    TEAM_ID VARCHAR2(20) PRIMARY KEY,
    TEAM_NAME VARCHAR2(20)
);

select * from MEMBER;
SELECT * FROM PROJECT_TEAM;

CREATE TABLE MEMBER(
    TEAM_ID VARCHAR2(20),
    MEM_ID VARCHAR2(20) PRIMARY KEY,
    PASSWORD VARCHAR2(20),
    NAME VARCHAR2(20),
    AGE VARCHAR2(20),
    SSN VARCHAR2(20),
    GENDER VARCHAR2(20),
    ROLL VARCHAR2(20)
);

INSERT INTO TEAMZ(
    TEAM_ID, team_name
)
VALUES(
    'ateam', '저스티스'
);
INSERT INTO TEAMZ(
    TEAM_ID, team_name
)
VALUES(
    'hteam', '아마조네스'
);
INSERT INTO TEAMZ(
    TEAM_ID, team_name
)
VALUES(
    'cteam', '가오갤'
);
INSERT INTO TEAMZ(
    TEAM_ID, team_name
)
VALUES(
    'steam', '어벤져스'
);

	
--ateam
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('a1','ateam','형준',34,'팀장');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('a2','ateam','세인',35,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('a3','ateam','희태',21,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('a4','ateam','상훈',29,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('a5','ateam','태형',25,'팀원');

--hteam
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('h1','hteam','혜리',26,'팀장');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('h2','hteam','지은',26,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('h3','hteam','단아',26,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('h4','hteam','재경',30,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('h5','hteam','준',27,'팀원');

--cteam
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('c1','cteam','최정훈',32,'팀장');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('c2','cteam','윤호',31,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('c3','cteam','가은',29,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('c4','cteam','정훈',23,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('c5','cteam','승태',30,'팀원');

--steam
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('s1','steam','승호',27,'팀장');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('s2','steam','소진',26,'팀원');
INSERT INTO TEAMW(MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('s3','steam','이슬',29,'팀원');
INSERT INTO TEAMW( MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('s4','steam','진태',26,'팀원');
INSERT INTO TEAMW(MEM_ID, TEAM_ID, MEM_NAME, MEM_AGE,ROLL)
VALUES('s5','steam','누리',30,'팀원');


--SUBJECT 테이블 생성
--과목 : JAVA,SQL,HTML5,R,PYTHON
CREATE TABLE SUBJECT(
    SUB_SEQ DECIMAL PRIMARY KEY,
    SUB_NAME VARCHAR2(20) 
);

--SEQUENCE생성
CREATE SEQUENCE SUB_SEQ;
--결과 확인
SELECT * FROM SUBJECT;

--SUBJECT 테이블에 데이터 삽입
INSERT INTO SUBJECT(
    SUB_SEQ, SUB_NAME
)
values(
    SUB_SEQ.NEXTVAL, 'JAVA'
);

INSERT INTO SUBJECT(
    SUB_SEQ, SUB_NAME
)
values(
    SUB_SEQ.NEXTVAL, 'SQL'
);

INSERT INTO SUBJECT(
    SUB_SEQ, SUB_NAME
)
values(
    SUB_SEQ.NEXTVAL, 'HTML5'
);
INSERT INTO SUBJECT(
    SUB_SEQ, SUB_NAME
)
values(
    SUB_SEQ.NEXTVAL, 'R'
);
INSERT INTO SUBJECT(
    SUB_SEQ, SUB_NAME
)
values(
    SUB_SEQ.NEXTVAL, 'PYTHON'
);


--RECORD테이블 생성
CREATE TABLE RECORD(
    RECORD_SEQ DECIMAL PRIMARY KEY,
    GRADE VARCHAR2(20),
    AGE VARCHAR2(20)
);
CREATE SEQUENCE RECORD_SEQ;

SELECT * FROM RECORD;
DROP TABLE RECORD;

--EXAM테이블 생성

CREATE TABLE EXAM(
    EXAM_SEQ DECIMAL PRIMARY KEY,
    MEM_ID VARCHAR2(20),
    SUB_SEQ DECIMAL,
    MONTH VARCHAR2(20),
    SCORE VARCHAR2(20),
    RECORD_SEQ DECIMAL
);
CREATE SEQUENCE EXAM_SEQ;

--EXAM테이블 외래키 설정
ALTER TABLE EXAM ADD CONSTRAINT EXAM_FK_MEM_ID
	FOREIGN KEY(MEM_ID) REFERENCES MEMBER(MEM_ID);
	
ALTER TABLE EXAM ADD CONSTRAINT EXAM_FK_SUB_SEQ
FOREIGN KEY(SUB_SEQ) REFERENCES SUBJECT(SUB_SEQ);

ALTER TABLE EXAM ADD CONSTRAINT EXAM_FK_RECORD_SEQ
FOREIGN KEY(RECORD_SEQ) REFERENCES RECORD(RECORD_SEQ);









--테이블의 데이터값 변경
UPDATE PROJECT_TEAM SET TEAM_NAME = '음악사이트팀'
WHERE TEAM_NAME LIKE '거북왕팀';

--테이블 컬럼 삭제
ALTER TABLE MEMBER
DROP COLUMN SSN;

--테이블에 row 삽입
INSERT INTO MEMBER(MEM_ID,NAME,PASSWORD,SSN)
values('t1','test','1234','891005-1156247');

--테이블에 특정 컬럼 데이터 변경
UPDATE MEMBER SET AGE = '30' 
WHERE MEM_ID LIKE 's5';

--row 삭제
DELETE FROM MEMBER 
WHERE MEM_ID LIKE 'c2'
AND PASSWORD like 'c2';

--테이블에 colum 추가
ALTER TABLE MEMBER
ADD(GENDER VARCHAR2(20));

--전체 테이블 조회
select
    rownum n,
    a.*
from(
    SELECT * FROM MEMBER
order by MEM_ID) a
;

commit;

--테이블 명 변경
ALTER TABLE TEAMZ
RENAME TO PROJECT_TEAM;

--컬럼명 변경
ALTER TABLE MEMBER
RENAME COLUMN MEM_NAME TO NAME;